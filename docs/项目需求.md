## 项目核心 

提供视频转文字功能 

目前视频平台内容大量以视频形式存在，但：
- 无法快速检索
- 不利于二次创作
- 不便于学习/翻译/存档

本项目旨在提供一个：
- 简单
- 快速
- 可商用
的视频转文字服务。

## 项目目标

- 支持「链接 / 上传」两种方式获取视频
- 实时反馈任务进度
- 输出标准字幕文件
- 适合 PC / Mobile 使用

## 用户使用流程（User Flow）

进入页面
  ↓
输入视频链接 / 上传视频
  ↓
校验视频
  ↓
加入下载队列
  ↓
下载完成
  ↓
转码（音频提取）
  ↓
加入转译队列
  ↓
转译中（SSE输出片段）
  ↓
转译完成
  ↓
下载字幕 / 复制文本

## 前端模块

- VideoInput
  - URL 输入
  - 自动识别 path
  - 校验合法性

- UploadModule
  - 视频上传
  - 上传进度
  - 上传锁定开始按钮

- TaskStatus
  - 当前阶段提示
  - 排队信息
  - 错误状态

- TranscriptStream
  - SSE 流式文本输出
  - 时间戳格式化

- ResultActions
  - 下载字幕
  - 复制 TXT

## 后端模块

- 视频解析服务
- 视频下载服务
- 转码服务（ffmpeg）
- 转译服务（whisper / faster-whisper）
- 队列调度服务
- SSE 推送服务
- 任务状态管理

## 异常 & 错误处理说明（目前完全缺失）

- 视频链接无效
- 视频过大
- 转码失败
- GPU/CPU 资源不足
- 队列超时
- SSE 断连重连

## 性能 & 并发设计说明 

- 最大并发转译数 2
- 下载队列长度限制 2
- 单任务最大时长
- 单用户频率限制

## ⚠️ 1️⃣ 任务恢复 / 刷新页面

问题：

用户刷新页面，SSE 断了怎么办？

建议：

taskId 存 localStorage

页面重载后自动重连 /stream/:taskId

## 转译中断 & 取消任务

- 用户关闭页面
- 手动取消任务

## 项目需求

填写网址 （支持网址识别 比如 tv.itclass.top/{path} path自动填入网址） 开始按钮

提供友好的固定位置提示 执行到哪一步 比如：正在转码  正在排队，前面还有xx位正在下载  前面还有xx位正在转译  正在转译

需要有一个上传视频的按钮 上传视频途中 不允许 点击开始 置灰不可点击; 

提供sse类似的对话服务展示 转码进度信息 比如 
    [0.00s -> 3.32s] 我们表演中国武术,一步行换开,可以走!
    [3.32s -> 5.64s] 但你出手伤人,就应该向我们道歉!
    [5.64s -> 8.16s] 这是什么语言的语言?
    [8.16s -> 10.84s] 老百姓必须道歉!
    [10.84s -> 14.28s] 面对洪正南的道歉要求,龙卷峰却是满脸的不屑
    [14.28s -> 17.24s] 声称中国武术就是花拳秀腿中看不中用

转译完成之后以下按钮状态位可点击  点下载字幕  复制文本    

需要有响应式样式  pc 和 移动端 不去做兼容适配 而是根据屏幕宽度进行样式切换  

- PC：左右结构（输入 / 输出）
- Mobile：上下结构（输入在上，流式文本在下）


支持多语言选择

## 项目技术栈

next.js + tailwindcss + ts  

